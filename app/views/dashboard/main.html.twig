{% extends 'layout/base.html.twig' %}

{% block content %}
    <h1>Menú Principal</h1>
    <p>Bienvenido, {{ user_name }}. Selecciona un panel para comenzar.</p>

    <div class="dashboard-nav">
        
        {% if 'agente' in roles %}
            <a href="/dashboard_agente" class="nav-card">
                <i class="fas fa-user"></i>
                <h3>Panel de Agente</h3>
            </a>
        {% endif %}

        {% if 'jefe' in roles %}
            <a href="/dashboard_jefe" class="nav-card">
                <i class="fas fa-user-tie"></i>
                <h3>Panel de Jefe</h3>
            </a>
        {% endif %}

        {% if 'supervisor' in roles %}
            <a href="/dashboard_supervisor" class="nav-card">
                <i class="fas fa-user-graduate"></i>
                <h3>Panel de Supervisor</h3>
            </a>
        {% endif %}

        {% if 'rrhh' in roles %}
            <a href="/dashboard_rrhh" class="nav-card">
                <i class="fas fa-users-cog"></i>
                <h3>Panel de RRHH</h3>
            </a>
        {% endif %}

        {% if 'admin' in roles %}
            <a href="/dashboard_admin" class="nav-card">
                <i class="fas fa-shield-alt"></i>
                <h3>Panel de Admin</h3>
            </a>
        {% endif %}

    </div>

    <div class="container novedades-container">
        <h2><i class="fas fa-bullhorn"></i> Últimas Novedades</h2>
        <div class="novedades-list">
            {% if novedades is not empty %}
                {% for novedad in novedades %}
                    <div class="novedad-item">
                        <h4>{{ novedad.nov_titulo }}</h4>
                        <p>{{ novedad.nov_contenido_corto }}</p>
                        <span>Publicado el: {{ novedad.nov_fecha_publicacion|date("d/m/Y") }}</span>
                    </div>
                {% endfor %}
            {% else %}
                <p>No hay novedades publicadas recientemente.</p>
            {% endif %}
        </div>
    </div>
{% endblock %}